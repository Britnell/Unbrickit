---

---

<script is:inline>
  function getTime() {
    const d = new Date();
    const h = d.getHours();
    const m = d.getMinutes();
    const s = d.getSeconds();
    return [h, m, s];
  }

  function display(h, m) {
    const _h = String(h).padStart(2, '0');
    const _m = String(m).padStart(2, '0');
    return `${_h}:${_m}`;
  }

  document.addEventListener('alpine:init', () => {
    Alpine.data('time', () => ({
      time: ':',
      timer: null,
      init() {
        this.loop();

        // restart on focus
        document.addEventListener('visibilitychange', () => {
          if (document.visibilityState === 'visible') {
            this.loop();
          }
        });
      },
      loop() {
        if (this.timer) clearTimeout(this.timer);
        const [h, m, s] = getTime();
        this.time = display(h, m);
        const rem = 60 - s;
        if (this.shufflePeriod !== 'off') {
          const t = Math.floor(m / this.shufflePeriod);
          if (t !== this.shuffleLast) {
            this.shuffleLast = t;
            this.hue = Math.floor(Math.random() * 360);
          }
        }

        this.timer = setTimeout(() => {
          this.loop();
        }, rem * 1000);
      },
    }));
  });
</script>

<div
  x-data="time"
  :class="`${font} h-screen w-full grid place-items-center overflow-hidden leading-none transition-colors duration-1000 select-none`"
  :style="`
font-weight: ${weight};
font-size: ${fontSize}vw;
background-color: ${colors.bg};
color: ${colors.text};`"
>
  <span class="mb-[5vh]" x-text="time"></span>
</div>
<style>
  /* Fonts  */

  .system {
    font-family: system-ui, sans-serif;
  }
  .transitional {
    font-family: Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif;
  }
  .old-style {
    font-family: 'Iowan Old Style', 'Palatino Linotype', 'URW Palladio L', P052, serif;
  }
  .humanist {
    font-family: Seravek, 'Gill Sans Nova', Ubuntu, Calibri, 'DejaVu Sans', source-sans-pro, sans-serif;
  }
  .geometric {
    font-family: Avenir, Montserrat, Corbel, 'URW Gothic', source-sans-pro, sans-serif;
  }
  .classical {
    font-family: Optima, Candara, 'Noto Sans', source-sans-pro, sans-serif;
  }
  .neo-grotesque {
    font-family: Inter, Roboto, 'Helvetica Neue', 'Arial Nova', 'Nimbus Sans', Arial, sans-serif;
  }
  .mono-serif {
    font-family: 'Nimbus Mono PS', 'Courier New', monospace;
  }
  .mono-code {
    font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
  }
  .industrial {
    font-family: Bahnschrift, 'DIN Alternate', 'Franklin Gothic Medium', 'Nimbus Sans Narrow', sans-serif-condensed,
      sans-serif;
  }
  .rounded {
    font-family: ui-rounded, 'Hiragino Maru Gothic ProN', Quicksand, Comfortaa, Manjari, 'Arial Rounded MT',
      'Arial Rounded MT Bold', Calibri, source-sans-pro, sans-serif;
  }
  .serif {
    font-family: Rockwell, 'Rockwell Nova', 'Roboto Slab', 'DejaVu Serif', 'Sitka Small', serif;
  }
  .antique {
    font-family: Superclarendon, 'Bookman Old Style', 'URW Bookman', 'URW Bookman L', 'Georgia Pro', Georgia, serif;
  }
  .didone {
    font-family: Didot, 'Bodoni MT', 'Noto Serif Display', 'URW Palladio L', P052, Sylfaen, serif;
  }
</style>
